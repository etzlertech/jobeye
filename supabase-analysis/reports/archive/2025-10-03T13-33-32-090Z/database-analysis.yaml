analyzed_at: '2025-10-03T13:33:16.411Z'
database_url: https://rtwigjwqufozqfwozpvo.supabase.co
tables:
  - name: customers
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: customer_number
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: email
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: phone
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: mobile_phone
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: billing_address
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: service_address
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: tags
        data_type: TEXT[]
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: voice_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 13
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 14
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 15
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 16
        character_maximum_length: null
      - name: created_by
        data_type: UUID REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys:
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_customers_created_by
        table_name: customers
        column_name: created_by
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: customers
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_customers_template_id
        table_name: customers
        column_name: template_id
        foreign_table_name: job_templates
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: customers
        foreign_column_name: id
      - constraint_name: fk_customers_property_id
        table_name: customers
        column_name: property_id
        foreign_table_name: properties
        foreign_column_name: id
      - constraint_name: fk_customers_assigned_to
        table_name: customers
        column_name: assigned_to
        foreign_table_name: users_extended
        foreign_column_name: id
      - constraint_name: fk_customers_created_by
        table_name: customers
        column_name: created_by
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_customers_assigned_to
        table_name: customers
        column_name: assigned_to
        foreign_table_name: users_extended
        foreign_column_name: id
      - constraint_name: fk_customers_NOT
        table_name: customers
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: properties
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: customer_id
        data_type: UUID NOT NULL REFERENCES customers(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: property_number
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: address
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: location
        data_type: GEOGRAPHY(POINT
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: property_type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: size_sqft
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: lot_size_acres
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: zones
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: access_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: gate_code
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: special_instructions
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: voice_navigation_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: photos
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 16
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 17
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 18
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 19
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 20
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: job_templates
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: template_code
        data_type: VARCHAR(100)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: category
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: estimated_duration
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: default_priority
        data_type: job_priority
        is_nullable: true
        column_default: '''normal'''
        ordinal_position: 8
        character_maximum_length: null
      - name: required_skills
        data_type: TEXT[]
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: required_equipment_types
        data_type: TEXT[]
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: default_materials
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 11
        character_maximum_length: null
      - name: checklist_items
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 12
        character_maximum_length: null
      - name: voice_shortcuts
        data_type: TEXT[]
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: voice_instructions
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 15
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 16
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 17
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 18
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: jobs
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: job_number
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: template_id
        data_type: UUID REFERENCES job_templates(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: customer_id
        data_type: UUID NOT NULL REFERENCES customers(id)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: property_id
        data_type: UUID REFERENCES properties(id)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: title
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: status
        data_type: job_status
        is_nullable: true
        column_default: '''draft'''
        ordinal_position: 9
        character_maximum_length: null
      - name: priority
        data_type: job_priority
        is_nullable: true
        column_default: '''normal'''
        ordinal_position: 10
        character_maximum_length: null
      - name: scheduled_start
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: scheduled_end
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: actual_start
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: actual_end
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: assigned_to
        data_type: UUID REFERENCES users_extended(id)
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: assigned_team
        data_type: UUID[]
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: estimated_duration
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: actual_duration
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: completion_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 19
        character_maximum_length: null
      - name: voice_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 20
        character_maximum_length: null
      - name: voice_created
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 21
        character_maximum_length: null
      - name: voice_session_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 22
        character_maximum_length: null
      - name: checklist_items
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 23
        character_maximum_length: null
      - name: materials_used
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 24
        character_maximum_length: null
      - name: equipment_used
        data_type: UUID[]
        is_nullable: true
        column_default: null
        ordinal_position: 25
        character_maximum_length: null
      - name: photos_before
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 26
        character_maximum_length: null
      - name: photos_after
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 27
        character_maximum_length: null
      - name: signature_required
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 28
        character_maximum_length: null
      - name: signature_data
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 29
        character_maximum_length: null
      - name: billing_info
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 30
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 31
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 32
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 33
        character_maximum_length: null
      - name: created_by
        data_type: UUID REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 34
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: equipment
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: equipment_number
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: make
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: model
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: serial_number
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: year
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: status
        data_type: equipment_status
        is_nullable: true
        column_default: '''active'''
        ordinal_position: 10
        character_maximum_length: null
      - name: current_location
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: home_location
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: assigned_to
        data_type: UUID REFERENCES users_extended(id)
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: purchase_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: purchase_price
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: current_value
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: maintenance_schedule
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: last_maintenance_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: next_maintenance_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 19
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 20
        character_maximum_length: null
      - name: qr_code
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 21
        character_maximum_length: null
      - name: voice_identifier
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 22
        character_maximum_length: null
      - name: is_tracked
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 23
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 24
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 25
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 26
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: materials
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: sku
        data_type: VARCHAR(100)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: category
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: unit
        data_type: material_unit
        is_nullable: true
        column_default: '''each'''
        ordinal_position: 7
        character_maximum_length: null
      - name: unit_cost
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: markup_percentage
        data_type: NUMERIC(5
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: quantity_on_hand
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: reorder_point
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: reorder_quantity
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: supplier_info
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: location
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: barcode
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: voice_name
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 17
        character_maximum_length: null
      - name: is_billable
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 18
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 19
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 20
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 21
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: voice_transcripts
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: session_id
        data_type: UUID REFERENCES user_sessions(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: job_id
        data_type: UUID REFERENCES jobs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: audio_url
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: audio_duration
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: transcript
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: confidence_score
        data_type: NUMERIC(5
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: status
        data_type: transcription_status
        is_nullable: true
        column_default: '''pending'''
        ordinal_position: 10
        character_maximum_length: null
      - name: language_code
        data_type: VARCHAR(10)
        is_nullable: true
        column_default: '''en-US'''
        ordinal_position: 11
        character_maximum_length: null
      - name: provider
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: provider_transcript_id
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 15
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 16
        character_maximum_length: null
      - name: processed_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys:
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_session_id
        table_name: voice_transcripts
        column_name: session_id
        foreign_table_name: user_sessions
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_job_id
        table_name: voice_transcripts
        column_name: job_id
        foreign_table_name: jobs
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: voice_transcripts
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_job_id
        table_name: voice_transcripts
        column_name: job_id
        foreign_table_name: jobs
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_customer_id
        table_name: voice_transcripts
        column_name: customer_id
        foreign_table_name: customers
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_property_id
        table_name: voice_transcripts
        column_name: property_id
        foreign_table_name: properties
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_equipment_id
        table_name: voice_transcripts
        column_name: equipment_id
        foreign_table_name: equipment
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_voice_transcript_id
        table_name: voice_transcripts
        column_name: voice_transcript_id
        foreign_table_name: voice_transcripts
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_job_id
        table_name: voice_transcripts
        column_name: job_id
        foreign_table_name: jobs
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: media_assets
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_voice_annotation_id
        table_name: voice_transcripts
        column_name: voice_annotation_id
        foreign_table_name: voice_transcripts
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_job_id
        table_name: voice_transcripts
        column_name: job_id
        foreign_table_name: jobs
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_customer_id
        table_name: voice_transcripts
        column_name: customer_id
        foreign_table_name: customers
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_property_id
        table_name: voice_transcripts
        column_name: property_id
        foreign_table_name: properties
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_NOT
        table_name: voice_transcripts
        column_name: NOT
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_voice_transcript_id
        table_name: voice_transcripts
        column_name: voice_transcript_id
        foreign_table_name: voice_transcripts
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_intent_recognition_id
        table_name: voice_transcripts
        column_name: intent_recognition_id
        foreign_table_name: intent_recognitions
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_vision_verification_id
        table_name: voice_transcripts
        column_name: vision_verification_id
        foreign_table_name: vision_verifications
        foreign_column_name: id
      - constraint_name: fk_voice_transcripts_media_asset_id
        table_name: voice_transcripts
        column_name: media_asset_id
        foreign_table_name: media_assets
        foreign_column_name: id
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: intent_recognitions
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: transcript_id
        data_type: UUID NOT NULL REFERENCES voice_transcripts(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: intent_type
        data_type: intent_type
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: confidence_score
        data_type: NUMERIC(5
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: entities
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: context
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: action_taken
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: success
        data_type: BOOLEAN
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: error_message
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: feedback_given
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 12
        character_maximum_length: null
      - name: feedback_score
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: provider
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 16
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: media_assets
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: uploaded_by
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: media_type
        data_type: media_type
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: file_name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: file_size
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: mime_type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: storage_path
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: public_url
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: thumbnail_url
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: job_id
        data_type: UUID REFERENCES jobs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: customer_id
        data_type: UUID REFERENCES customers(id)
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: property_id
        data_type: UUID REFERENCES properties(id)
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: equipment_id
        data_type: UUID REFERENCES equipment(id)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: voice_transcript_id
        data_type: UUID REFERENCES voice_transcripts(id)
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: voice_description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: vision_analysis
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: ocr_text
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: tags
        data_type: TEXT[]
        is_nullable: true
        column_default: null
        ordinal_position: 19
        character_maximum_length: null
      - name: is_public
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 20
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 21
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 22
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 23
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vision_verifications
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: job_id
        data_type: UUID REFERENCES jobs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: media_asset_id
        data_type: UUID NOT NULL REFERENCES media_assets(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: verification_type
        data_type: vision_verification_type
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: verified_by
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: ai_verified
        data_type: BOOLEAN
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: ai_confidence
        data_type: NUMERIC(5
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: ai_findings
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: ai_provider
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: ai_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: manual_verified
        data_type: BOOLEAN
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: manual_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: voice_annotation_id
        data_type: UUID REFERENCES voice_transcripts(id)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 15
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: conversation_sessions
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: session_token
        data_type: VARCHAR(255) UNIQUE
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: job_id
        data_type: UUID REFERENCES jobs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: customer_id
        data_type: UUID REFERENCES customers(id)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: property_id
        data_type: UUID REFERENCES properties(id)
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: started_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
      - name: ended_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 10
        character_maximum_length: null
      - name: wake_word_count
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 11
        character_maximum_length: null
      - name: turn_count
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 12
        character_maximum_length: null
      - name: current_context
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 13
        character_maximum_length: null
      - name: conversation_history
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 14
        character_maximum_length: null
      - name: pending_confirmations
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 15
        character_maximum_length: null
      - name: total_duration
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: active_duration
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: intent_success_rate
        data_type: NUMERIC(5
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: user_satisfaction_score
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 19
        character_maximum_length: null
      - name: total_stt_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 20
        character_maximum_length: null
      - name: total_llm_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 21
        character_maximum_length: null
      - name: total_tts_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 22
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 23
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: request_deduplication
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: request_hash
        data_type: VARCHAR(64)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: request_type
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: request_data
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: first_seen_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
      - name: last_seen_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
      - name: occurrence_count
        data_type: INTEGER
        is_nullable: true
        column_default: '1'
        ordinal_position: 9
        character_maximum_length: null
      - name: was_executed
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 10
        character_maximum_length: null
      - name: execution_result
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: expires_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW() + INTERVAL '5 minutes'
        ordinal_position: 12
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: ai_cost_tracking
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: service_type
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: provider
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: model
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: input_tokens
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: output_tokens
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: audio_seconds
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: image_count
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: unit_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: total_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: voice_transcript_id
        data_type: UUID REFERENCES voice_transcripts(id)
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: intent_recognition_id
        data_type: UUID REFERENCES intent_recognitions(id)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: vision_verification_id
        data_type: UUID REFERENCES vision_verifications(id)
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: media_asset_id
        data_type: UUID REFERENCES media_assets(id)
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 17
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: irrigation_systems
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: property_id
        data_type: UUID NOT NULL REFERENCES properties(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: system_name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: controller_type
        data_type: irrigation_controller_type
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: controller_make
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: controller_model
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: controller_location
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: wifi_enabled
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 9
        character_maximum_length: null
      - name: remote_access_enabled
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 10
        character_maximum_length: null
      - name: rain_sensor_installed
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 11
        character_maximum_length: null
      - name: flow_sensor_installed
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 12
        character_maximum_length: null
      - name: backflow_device_info
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: last_inspection_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: next_inspection_due
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: winterization_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: activation_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: voice_control_enabled
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 19
        character_maximum_length: null
      - name: voice_commands
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 20
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 21
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 22
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 23
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys:
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: properties
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: irrigation_systems
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: irrigation_systems
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: irrigation_systems
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_schedule_id
        table_name: irrigation_systems
        column_name: schedule_id
        foreign_table_name: irrigation_schedules
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: irrigation_zones
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_triggered_by_user
        table_name: irrigation_systems
        column_name: triggered_by_user
        foreign_table_name: users
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_voice_command_id
        table_name: irrigation_systems
        column_name: voice_command_id
        foreign_table_name: voice_transcripts
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_performed_by
        table_name: irrigation_systems
        column_name: performed_by
        foreign_table_name: users_extended
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_voice_notes_id
        table_name: irrigation_systems
        column_name: voice_notes_id
        foreign_table_name: voice_transcripts
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: users_extended
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_job_id
        table_name: irrigation_systems
        column_name: job_id
        foreign_table_name: jobs
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_approved_by
        table_name: irrigation_systems
        column_name: approved_by
        foreign_table_name: users_extended
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: tenants
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_assigned_to
        table_name: irrigation_systems
        column_name: assigned_to
        foreign_table_name: users_extended
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_assigned_vehicle
        table_name: irrigation_systems
        column_name: assigned_vehicle
        foreign_table_name: equipment
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: routes
        foreign_column_name: id
      - constraint_name: fk_irrigation_systems_NOT
        table_name: irrigation_systems
        column_name: NOT
        foreign_table_name: jobs
        foreign_column_name: id
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: irrigation_zones
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: system_id
        data_type: UUID NOT NULL REFERENCES irrigation_systems(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: zone_number
        data_type: INTEGER
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: zone_name
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: zone_type
        data_type: zone_type
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: area_sqft
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: plant_type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: soil_type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: sun_exposure
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: slope_percentage
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: valve_location
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: valve_size
        data_type: VARCHAR(20)
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: valve_type
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: gpm_flow_rate
        data_type: NUMERIC(6
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: head_count
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: head_type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: nozzle_types
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: default_runtime_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 19
        character_maximum_length: null
      - name: cycle_soak_enabled
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 20
        character_maximum_length: null
      - name: cycle_count
        data_type: INTEGER
        is_nullable: true
        column_default: '1'
        ordinal_position: 21
        character_maximum_length: null
      - name: soak_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 22
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 23
        character_maximum_length: null
      - name: current_status
        data_type: valve_status
        is_nullable: true
        column_default: '''closed'''
        ordinal_position: 24
        character_maximum_length: null
      - name: last_run_date
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 25
        character_maximum_length: null
      - name: total_runtime_ytd
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 26
        character_maximum_length: null
      - name: voice_identifier
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 27
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 28
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 29
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 30
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: irrigation_schedules
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: system_id
        data_type: UUID NOT NULL REFERENCES irrigation_systems(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: schedule_name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: schedule_type
        data_type: schedule_type
        is_nullable: true
        column_default: '''fixed'''
        ordinal_position: 5
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 6
        character_maximum_length: null
      - name: start_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: end_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: days_of_week
        data_type: INTEGER[]
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: start_times
        data_type: TIME[]
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: weather_adjustment_enabled
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 11
        character_maximum_length: null
      - name: rain_delay_threshold
        data_type: NUMERIC(3
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: temperature_threshold
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: wind_threshold
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: zone_runtimes
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: seasonal_adjustment
        data_type: INTEGER
        is_nullable: true
        column_default: '100'
        ordinal_position: 16
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 17
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 18
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: irrigation_runs
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: system_id
        data_type: UUID NOT NULL REFERENCES irrigation_systems(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: schedule_id
        data_type: UUID REFERENCES irrigation_schedules(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: zone_id
        data_type: UUID NOT NULL REFERENCES irrigation_zones(id)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: started_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: ended_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: scheduled_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: actual_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: triggered_by
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: triggered_by_user
        data_type: UUID REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: voice_command_id
        data_type: UUID REFERENCES voice_transcripts(id)
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: gallons_used
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: status
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: cancellation_reason
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: weather_data
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 17
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: service_history
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: entity_type
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: entity_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: service_date
        data_type: DATE
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: service_type
        data_type: VARCHAR(100)
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: performed_by
        data_type: UUID REFERENCES users_extended(id)
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: external_vendor
        data_type: VARCHAR(255)
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: parts_used
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 10
        character_maximum_length: null
      - name: labor_hours
        data_type: NUMERIC(5
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: parts_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: labor_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: total_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: media_assets
        data_type: UUID[]
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: voice_notes_id
        data_type: UUID REFERENCES voice_transcripts(id)
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: next_service_date
        data_type: DATE
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: next_service_type
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 19
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 20
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 21
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 22
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: time_entries
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES users_extended(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: job_id
        data_type: UUID REFERENCES jobs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: clock_in
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: clock_out
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: break_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 7
        character_maximum_length: null
      - name: total_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: clock_in_location
        data_type: GEOGRAPHY(POINT
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: clock_out_location
        data_type: GEOGRAPHY(POINT
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: clock_in_address
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: clock_out_address
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: voice_clock_in
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 13
        character_maximum_length: null
      - name: voice_clock_out
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 14
        character_maximum_length: null
      - name: voice_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: approved_by
        data_type: UUID REFERENCES users_extended(id)
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
      - name: approved_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 17
        character_maximum_length: null
      - name: approval_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 18
        character_maximum_length: null
      - name: billable
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'true'
        ordinal_position: 19
        character_maximum_length: null
      - name: hourly_rate
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 20
        character_maximum_length: null
      - name: total_cost
        data_type: NUMERIC(10
        is_nullable: true
        column_default: null
        ordinal_position: 21
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 22
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 23
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 24
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: routes
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: route_name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: route_date
        data_type: DATE
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: assigned_to
        data_type: UUID REFERENCES users_extended(id)
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: assigned_vehicle
        data_type: UUID REFERENCES equipment(id)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: start_location
        data_type: GEOGRAPHY(POINT
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: end_location
        data_type: GEOGRAPHY(POINT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: planned_start_time
        data_type: TIME
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: planned_duration_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: actual_start
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: actual_end
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: total_miles
        data_type: NUMERIC(6
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: status
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: '''planned'''
        ordinal_position: 14
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: '''{}''::jsonb'
        ordinal_position: 15
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 16
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 17
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: route_stops
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: route_id
        data_type: UUID NOT NULL REFERENCES routes(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: job_id
        data_type: UUID NOT NULL REFERENCES jobs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: stop_order
        data_type: INTEGER
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: planned_arrival
        data_type: TIME
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: planned_duration_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: arrival_time
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: departure_time
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: distance_from_previous
        data_type: NUMERIC(6
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: drive_time_from_previous
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: completed
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 11
        character_maximum_length: null
      - name: skipped
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'false'
        ordinal_position: 12
        character_maximum_length: null
      - name: skip_reason
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: containers
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: type
        data_type: container_type
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: identifier
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: capacity
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: parent_container_id
        data_type: UUID REFERENCES containers(id) ON DELETE SET
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: default_location_gps
        data_type: GEOMETRY(POINT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: photo_url
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: voice_name
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: false
        column_default: 'TRUE'
        ordinal_position: 11
        character_maximum_length: null
      - name: is_default
        data_type: BOOLEAN
        is_nullable: false
        column_default: 'FALSE'
        ordinal_position: 12
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 13
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: inventory_images
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: media_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: file_path
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: mime_type
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: size_bytes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys:
      - constraint_name: fk_inventory_images_NOT
        table_name: inventory_images
        column_name: NOT
        foreign_table_name: vendors
        foreign_column_name: id
      - constraint_name: fk_inventory_images_NOT
        table_name: inventory_images
        column_name: NOT
        foreign_table_name: vendors
        foreign_column_name: id
      - constraint_name: fk_inventory_images_vendor_id
        table_name: inventory_images
        column_name: vendor_id
        foreign_table_name: vendors
        foreign_column_name: id
      - constraint_name: fk_inventory_images_ocr_job_id
        table_name: inventory_images
        column_name: ocr_job_id
        foreign_table_name: ocr_jobs
        foreign_column_name: id
      - constraint_name: fk_inventory_images_ocr_document_id
        table_name: inventory_images
        column_name: ocr_document_id
        foreign_table_name: ocr_documents
        foreign_column_name: id
      - constraint_name: fk_inventory_images_ocr_document_id
        table_name: inventory_images
        column_name: ocr_document_id
        foreign_table_name: ocr_documents
        foreign_column_name: id
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: job_checklist_items
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: job_id
        data_type: UUID NOT NULL REFERENCES jobs(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: sequence_number
        data_type: INT
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: item_type
        data_type: TEXT NOT NULL CHECK (item_type IN ('equipment'
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: item_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: item_name
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: quantity
        data_type: INT
        is_nullable: true
        column_default: '1'
        ordinal_position: 7
        character_maximum_length: null
      - name: container_id
        data_type: UUID REFERENCES containers(id)
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: status
        data_type: TEXT
        is_nullable: true
        column_default: '''pending'' CHECK (status IN (''pending'''
        ordinal_position: 9
        character_maximum_length: null
      - name: vlm_prompt
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: acceptance_criteria
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 12
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 13
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: load_verifications
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: job_id
        data_type: UUID NOT NULL REFERENCES jobs(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: media_id
        data_type: UUID NOT NULL REFERENCES media_assets(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: provider
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: model_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: detected_containers
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 6
        character_maximum_length: null
      - name: detected_items
        data_type: JSONB
        is_nullable: true
        column_default: '''[]''::jsonb'
        ordinal_position: 7
        character_maximum_length: null
      - name: verified_checklist_items
        data_type: UUID[]
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: missing_items
        data_type: UUID[]
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: unexpected_items
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: tokens_used
        data_type: INT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: cost_usd
        data_type: NUMERIC(18
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: processing_time_ms
        data_type: INT
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: company_settings
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: uuid
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: uuid
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: vision_thresholds
        data_type: jsonb
        is_nullable: true
        column_default: '''{'
        ordinal_position: 3
        character_maximum_length: null
      - name: voice_preferences
        data_type: jsonb
        is_nullable: true
        column_default: '''{'
        ordinal_position: 4
        character_maximum_length: null
      - name: budget_limits
        data_type: jsonb
        is_nullable: true
        column_default: '''{'
        ordinal_position: 5
        character_maximum_length: null
      - name: features
        data_type: jsonb
        is_nullable: true
        column_default: '''{'
        ordinal_position: 6
        character_maximum_length: null
      - name: created_at
        data_type: timestamptz
        is_nullable: true
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
      - name: updated_at
        data_type: timestamptz
        is_nullable: true
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: companies
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: name
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: now()
        ordinal_position: 4
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: now()
        ordinal_position: 5
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: voice_sessions
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: text
        is_nullable: true
        column_default: null
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: text
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: text
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: session_type
        data_type: text
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: start_time
        data_type: timestamptz
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: end_time
        data_type: timestamptz
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: is_active
        data_type: boolean
        is_nullable: true
        column_default: 'true'
        ordinal_position: 7
        character_maximum_length: null
      - name: created_at
        data_type: timestamptz
        is_nullable: true
        column_default: now()
        ordinal_position: 8
        character_maximum_length: null
      - name: updated_at
        data_type: timestamptz
        is_nullable: true
        column_default: now()
        ordinal_position: 9
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: kits
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: kit_code
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: category
        data_type: VARCHAR(100)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: false
        column_default: 'TRUE'
        ordinal_position: 7
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 8
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 9
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 10
        character_maximum_length: null
      - name: UNIQUE
        data_type: (company_id
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: kit_items
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: kit_id
        data_type: UUID NOT NULL REFERENCES public.kits(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: item_type
        data_type: TEXT NOT NULL CHECK (item_type IN ('equipment'
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: quantity
        data_type: NUMERIC(12
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: unit
        data_type: VARCHAR(50)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: is_required
        data_type: BOOLEAN
        is_nullable: false
        column_default: 'TRUE'
        ordinal_position: 7
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 8
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 9
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 10
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: kit_variants
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: kit_id
        data_type: UUID NOT NULL REFERENCES public.kits(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: variant_code
        data_type: VARCHAR(50)
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: name
        data_type: VARCHAR(255)
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: is_default
        data_type: BOOLEAN
        is_nullable: false
        column_default: 'FALSE'
        ordinal_position: 6
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 7
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 9
        character_maximum_length: null
      - name: UNIQUE
        data_type: (kit_id
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: kit_assignments
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: kit_id
        data_type: UUID NOT NULL REFERENCES public.kits(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: variant_id
        data_type: UUID REFERENCES public.kit_variants(id) ON DELETE SET
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: external_ref
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 7
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 9
        character_maximum_length: null
      - name: UNIQUE
        data_type: (company_id
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: kit_override_logs
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: assignment_id
        data_type: UUID NOT NULL REFERENCES public.kit_assignments(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: item_id
        data_type: UUID REFERENCES public.kit_items(id) ON DELETE SET
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: reason
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: delta
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 6
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 7
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: day_plans
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: plan_date
        data_type: DATE
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: status
        data_type: TEXT
        is_nullable: false
        column_default: '''draft'' CHECK (status IN (''draft'''
        ordinal_position: 5
        character_maximum_length: null
      - name: route_data
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: total_distance_miles
        data_type: DECIMAL(10
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: estimated_duration_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: actual_start_time
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: actual_end_time
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: voice_session_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: auto_schedule_breaks
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'FALSE'
        ordinal_position: 12
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 15
        character_maximum_length: null
      - name: UNIQUE
        data_type: (company_id
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: schedule_events
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: day_plan_id
        data_type: UUID NOT NULL REFERENCES public.day_plans(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: event_type
        data_type: TEXT NOT NULL CHECK (event_type IN ('job'
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: job_id
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: sequence_order
        data_type: INTEGER
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: scheduled_start
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: scheduled_duration_minutes
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: actual_start
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: actual_end
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: status
        data_type: TEXT
        is_nullable: false
        column_default: '''pending'' CHECK (status IN (''pending'''
        ordinal_position: 11
        character_maximum_length: null
      - name: location_data
        data_type: GEOGRAPHY(POINT)
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: address
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: voice_notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 16
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 17
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 18
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: crew_assignments
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: schedule_event_id
        data_type: UUID NOT NULL REFERENCES public.schedule_events(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: user_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: role
        data_type: TEXT NOT NULL CHECK (role IN ('lead'
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: assigned_by
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: assigned_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
      - name: confirmed_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: voice_confirmed
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'FALSE'
        ordinal_position: 9
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 10
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 11
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 12
        character_maximum_length: null
      - name: UNIQUE
        data_type: (schedule_event_id
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: job_kits
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: job_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: kit_id
        data_type: UUID NOT NULL REFERENCES public.kits(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: variant_id
        data_type: UUID REFERENCES public.kit_variants(id) ON DELETE SET
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: assigned_by
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: assigned_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
      - name: verified_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: verified_by
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: verification_status
        data_type: TEXT CHECK (verification_status IN ('pending'
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: false
        column_default: '''{}''::jsonb'
        ordinal_position: 12
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 13
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
      - name: UNIQUE
        data_type: (company_id
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: notification_queue
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES public.companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: recipient_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: type
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: priority
        data_type: TEXT
        is_nullable: false
        column_default: '''medium'' CHECK (priority IN (''low'''
        ordinal_position: 5
        character_maximum_length: null
      - name: message
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: data
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: method
        data_type: TEXT CHECK (method IN ('sms'
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: status
        data_type: TEXT
        is_nullable: false
        column_default: '''pending'' CHECK (status IN (''pending'''
        ordinal_position: 9
        character_maximum_length: null
      - name: attempts
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 10
        character_maximum_length: null
      - name: last_attempt_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: delivered_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: error
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 15
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vendors
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: name
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: true
        column_default: 'TRUE'
        ordinal_position: 4
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 5
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 6
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vendor_aliases
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: vendor_id
        data_type: UUID NOT NULL REFERENCES public.vendors(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: alias
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vendor_locations
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: vendor_id
        data_type: UUID NOT NULL REFERENCES public.vendors(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: address
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: city
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: state
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: postal_code
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: country
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: ocr_jobs
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: vendor_id
        data_type: UUID REFERENCES public.vendors(id)
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: status
        data_type: TEXT NOT NULL CHECK (status IN ('queued'
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 5
        character_maximum_length: null
      - name: completed_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: ocr_documents
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: ocr_job_id
        data_type: UUID REFERENCES public.ocr_jobs(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: file_path
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: page_count
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 6
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: ocr_line_items
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: ocr_document_id
        data_type: UUID REFERENCES public.ocr_documents(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: line_index
        data_type: INTEGER
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: sku
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: description
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: qty
        data_type: NUMERIC(18
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: unit_price
        data_type: NUMERIC(18
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: total
        data_type: NUMERIC(18
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: ocr_note_entities
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: gen_random_uuid()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: ocr_document_id
        data_type: UUID REFERENCES public.ocr_documents(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: label
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: value
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vision_detected_items
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: verification_id
        data_type: UUID NOT NULL REFERENCES vision_verifications(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: item_type
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: confidence_score
        data_type: DECIMAL(3
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: bounding_box
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: matched_kit_item_id
        data_type: UUID REFERENCES kit_items(id)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: match_status
        data_type: TEXT NOT NULL CHECK (match_status IN ('matched'
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vision_cost_records
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: verification_id
        data_type: UUID NOT NULL REFERENCES vision_verifications(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: provider
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: operation_type
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: estimated_cost_usd
        data_type: DECIMAL(6
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: actual_cost_usd
        data_type: DECIMAL(6
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: request_timestamp
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
      - name: response_timestamp
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 10
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vision_confidence_config
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: UUID NOT NULL UNIQUE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: confidence_threshold
        data_type: DECIMAL(3
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: CHECK
        data_type: (confidence_threshold BETWEEN 0.50 AND 0.95)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: max_daily_vlm_requests
        data_type: INTEGER
        is_nullable: false
        column_default: '100'
        ordinal_position: 5
        character_maximum_length: null
      - name: CHECK
        data_type: (max_daily_vlm_requests > 0)
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: daily_budget_usd
        data_type: DECIMAL(6
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: CHECK
        data_type: (daily_budget_usd > 0)
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 9
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: NOW()
        ordinal_position: 10
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: inventory_items
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: type
        data_type: item_type
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: name
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: category
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: status
        data_type: item_status
        is_nullable: false
        column_default: '''active'''
        ordinal_position: 6
        character_maximum_length: null
      - name: current_location_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: specifications
        data_type: JSONB
        is_nullable: true
        column_default: '''{}'''
        ordinal_position: 8
        character_maximum_length: null
      - name: attributes
        data_type: JSONB
        is_nullable: true
        column_default: '''{}'''
        ordinal_position: 9
        character_maximum_length: null
      - name: images
        data_type: JSONB[]
        is_nullable: false
        column_default: '''{}'''
        ordinal_position: 10
        character_maximum_length: null
      - name: tracking_mode
        data_type: tracking_mode
        is_nullable: false
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: current_quantity
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: reorder_level
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 15
        character_maximum_length: null
      - name: created_by
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 16
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: container_assignments
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: container_id
        data_type: UUID NOT NULL REFERENCES containers(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: item_id
        data_type: UUID NOT NULL REFERENCES inventory_items(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: quantity
        data_type: INTEGER
        is_nullable: false
        column_default: '1'
        ordinal_position: 4
        character_maximum_length: null
      - name: checked_in_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 5
        character_maximum_length: null
      - name: checked_out_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: job_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: status
        data_type: assignment_status
        is_nullable: false
        column_default: '''active'''
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: inventory_transactions
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: type
        data_type: transaction_type
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: item_ids
        data_type: UUID[]
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: quantity
        data_type: INTEGER
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: source_container_id
        data_type: UUID REFERENCES containers(id) ON DELETE SET
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: destination_container_id
        data_type: UUID REFERENCES containers(id) ON DELETE SET
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: job_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: performer_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: verification_method
        data_type: verification_method
        is_nullable: false
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: photo_evidence_url
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: voice_session_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: voice_transcript
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 14
        character_maximum_length: null
      - name: cost_data
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 16
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: purchase_receipts
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: vendor_name
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: vendor_location
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: purchase_date
        data_type: DATE
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: total_amount
        data_type: DECIMAL(10
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: line_items
        data_type: JSONB[]
        is_nullable: false
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: receipt_photo_url
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: ocr_extracted_data
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: ocr_confidence_scores
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: ocr_method
        data_type: ocr_method
        is_nullable: false
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: po_reference
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: assigned_job_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
      - name: created_by
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 15
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: training_data_records
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: original_photo_url
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: yolo_detections
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: vlm_analysis
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: user_selections
        data_type: INTEGER[]
        is_nullable: false
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: user_corrections
        data_type: JSONB[]
        is_nullable: false
        column_default: '''{}'''
        ordinal_position: 8
        character_maximum_length: null
      - name: user_exclusions
        data_type: JSONB[]
        is_nullable: false
        column_default: '''{}'''
        ordinal_position: 9
        character_maximum_length: null
      - name: context
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: voice_transcript
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: quality_metrics
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: created_record_ids
        data_type: UUID[]
        is_nullable: false
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 14
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: vision_training_annotations
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: training_record_id
        data_type: UUID NOT NULL REFERENCES training_data_records(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: item_detection_number
        data_type: INTEGER
        is_nullable: false
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: corrected_label
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: corrected_bbox
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: correction_reason
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: detection_confidence_thresholds
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL UNIQUE REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: local_confidence_threshold
        data_type: DECIMAL(3
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: max_daily_vlm_requests
        data_type: INTEGER
        is_nullable: false
        column_default: '100'
        ordinal_position: 4
        character_maximum_length: null
      - name: daily_cost_budget_cap
        data_type: DECIMAL(6
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: is_active
        data_type: BOOLEAN
        is_nullable: false
        column_default: 'TRUE'
        ordinal_position: 6
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: background_filter_preferences
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: company_id
        data_type: TEXT NOT NULL REFERENCES companies(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: user_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: object_label
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: action
        data_type: filter_action
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: context_filters
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 7
        character_maximum_length: null
      - name: updated_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 8
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: item_relationships
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: parent_item_id
        data_type: UUID NOT NULL REFERENCES inventory_items(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: related_item_id
        data_type: UUID NOT NULL REFERENCES inventory_items(id) ON DELETE CASCADE
        is_nullable: true
        column_default: null
        ordinal_position: 3
        character_maximum_length: null
      - name: relationship_type
        data_type: relationship_type
        is_nullable: false
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: notes
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 6
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: true
    rls_policies: []
    triggers: []
  - name: ai_interaction_logs
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id)
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 3
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: interaction_type
        data_type: TEXT NOT NULL CHECK (interaction_type IN ('intent'
        is_nullable: true
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: model_used
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: prompt
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: image_url
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: response
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: response_time_ms
        data_type: INTEGER
        is_nullable: false
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: cost_usd
        data_type: DECIMAL(10
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: error
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 12
        character_maximum_length: null
      - name: metadata
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 13
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: false
    rls_policies: []
    triggers: []
  - name: intent_classifications
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id)
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 3
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: image_url
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: detected_intent
        data_type: TEXT NOT NULL CHECK (detected_intent IN ('inventory_add'
        is_nullable: true
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: confidence
        data_type: DECIMAL(3
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: context_data
        data_type: JSONB
        is_nullable: true
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: user_action
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 9
        character_maximum_length: null
      - name: ai_log_id
        data_type: UUID REFERENCES ai_interaction_logs(id)
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: false
    rls_policies: []
    triggers: []
  - name: offline_sync_queue
    schema: public
    row_count: 0
    columns:
      - name: id
        data_type: UUID
        is_nullable: true
        column_default: uuid_generate_v4()
        ordinal_position: 1
        character_maximum_length: null
      - name: tenant_id
        data_type: UUID NOT NULL REFERENCES tenants(id)
        is_nullable: true
        column_default: null
        ordinal_position: 2
        character_maximum_length: null
      - name: created_at
        data_type: TIMESTAMPTZ
        is_nullable: false
        column_default: NOW()
        ordinal_position: 3
        character_maximum_length: null
      - name: user_id
        data_type: UUID NOT NULL REFERENCES auth.users(id)
        is_nullable: true
        column_default: null
        ordinal_position: 4
        character_maximum_length: null
      - name: operation_type
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 5
        character_maximum_length: null
      - name: entity_type
        data_type: TEXT
        is_nullable: false
        column_default: null
        ordinal_position: 6
        character_maximum_length: null
      - name: entity_id
        data_type: UUID
        is_nullable: true
        column_default: null
        ordinal_position: 7
        character_maximum_length: null
      - name: operation_data
        data_type: JSONB
        is_nullable: false
        column_default: null
        ordinal_position: 8
        character_maximum_length: null
      - name: sync_status
        data_type: TEXT
        is_nullable: false
        column_default: '''pending'' CHECK (sync_status IN (''pending'''
        ordinal_position: 9
        character_maximum_length: null
      - name: synced_at
        data_type: TIMESTAMPTZ
        is_nullable: true
        column_default: null
        ordinal_position: 10
        character_maximum_length: null
      - name: error
        data_type: TEXT
        is_nullable: true
        column_default: null
        ordinal_position: 11
        character_maximum_length: null
      - name: retry_count
        data_type: INTEGER
        is_nullable: true
        column_default: '0'
        ordinal_position: 12
        character_maximum_length: null
    primary_keys:
      - id
    foreign_keys: []
    indexes: []
    rls_enabled: false
    rls_policies: []
    triggers: []
views: []
functions: []
enums: []
total_tables: 60
total_rows: 0
orphaned_tables:
  - materials
  - conversation_sessions
  - request_deduplication
  - ai_cost_tracking
  - irrigation_runs
  - service_history
  - time_entries
  - route_stops
  - containers
  - job_checklist_items
  - load_verifications
  - company_settings
  - companies
  - voice_sessions
  - kits
  - kit_items
  - kit_variants
  - kit_assignments
  - kit_override_logs
  - day_plans
  - schedule_events
  - crew_assignments
  - job_kits
  - notification_queue
  - vendor_aliases
  - vendor_locations
  - ocr_line_items
  - ocr_note_entities
  - vision_detected_items
  - vision_cost_records
  - vision_confidence_config
  - inventory_items
  - container_assignments
  - inventory_transactions
  - purchase_receipts
  - training_data_records
  - vision_training_annotations
  - detection_confidence_thresholds
  - background_filter_preferences
  - item_relationships
  - ai_interaction_logs
  - intent_classifications
  - offline_sync_queue
missing_rls_tables:
  - ai_interaction_logs
  - intent_classifications
  - offline_sync_queue
recommendations:
  - 'Enable RLS on 3 tables: ai_interaction_logs, intent_classifications, offline_sync_queue'
  - Review 60 empty tables for potential removal
  - Add indexes on 76 foreign key columns for better join performance
